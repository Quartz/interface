import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs/blocks';
import ResponsiveImage from './ResponsiveImage';

<Meta title="ResponsiveImage" component={ResponsiveImage} />

# ResponsiveImage

A wrapper for the Image component that automatically generates a `srcset` value based on the provided WordPress image URL (`src`) and a range of image widths (`widthRange`).

## Usage guidelines

- **Do** use the `ResponsiveImage` for an image whose aspect ratio will not change.
- **Do** supply an image URL that supports resizing via the `w` and `h` URL query parameters.
- **Do** supply alt text for non-decorative images.
- **Do not** use the `ResponsiveImage` for an image whose aspect ratio changes between breakpoints (use an art direction solution instead, e.g., `<picture>`). You can read more about the difference between responsive images and art direction on [MDN](https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images)

## Props

<Canvas>
	<Story
		args={{
			alt: 'The Apple Inc. logo is seen hanging at the entrance to the Apple store on 5th Avenue in New York',
			src: 'https://cms.qz.com/wp-content/uploads/2020/10/2020-10-12T095922Z_142848263_RC2XGJ9T1J4Y_RTRMADP_3_APPLE-IPHONE-5G.jpg?quality=80&strip=all',
			widthRange: [ 200, 1600 ],
		}}
		name="Default"
	>
		{args => <ResponsiveImage {...args} />}
	</Story>
</Canvas>

<ArgsTable story="ResponsiveImage" />

## Examples

### Fixed width

By providing a pixel value in the `sizes` prop, we tell the browser that the image slot will always stay the same size. The pixel density of the user's screen will be the only factor in determining which image source to display.

<Canvas>
	<Story
		args={{
			alt: 'An animated gif showing James Franco in The Disaster Artist (2017)',
			fallbackWidth: 240,
			fallbackHeight: 120,
			sizes: '240px',
			src: 'https://cms.qz.com/wp-content/uploads/2020/10/giphy-32.gif',
			widthRange: [ 240, 240 ],
		}}
		name="Fixed"
	>
		{
			args => (
				<div style={{ width: 240 }}>
					<ResponsiveImage {...args} />
				</div>
			)
		}
	</Story>
</Canvas>

### Cropped

We can crop an image by providing the aspect ratio. The aspect ratio of the image will not change between resolutions.

<Canvas>
	<Story
		args={{
			alt: 'The Apple Inc. logo is seen hanging at the entrance to the Apple store on 5th Avenue in New York',
			aspectRatio: 1,
			src: 'https://cms.qz.com/wp-content/uploads/2020/10/2020-10-12T095922Z_142848263_RC2XGJ9T1J4Y_RTRMADP_3_APPLE-IPHONE-5G.jpg?quality=80&strip=all',
			widthRange: [ 200, 1600 ],
		}}
		name="Cropped1"
	>
		{args => <ResponsiveImage {...args} />}
	</Story>
</Canvas>

<Canvas>
	<Story
		args={{
			alt: 'A 2020 Porsche Taycan is driven into a tunnel with a city skyline in the background',
			aspectRatio: 0.25,
			sizes: '(max-width: 1240px) 50vw, 620px',
			src: 'https://cms.qz.com/wp-content/uploads/2020/10/PORSCHE-620x360-sponsoredcontent-1.png',
			widthRange: [ 300, 620 ],
		}}
		name="Cropped2"
	>
		{
			args => (
				<div style={{ width: '50vw', maxWidth: 620 }}>
					<ResponsiveImage {...args} />
				</div>
			)
		}
	</Story>
</Canvas>
